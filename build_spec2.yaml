version: 0.1
component: build
timeoutInSeconds: 1000
shell: bash

steps:
  - type: Command
    name: "Run Build"
    command: |
      mvn clean install -DskipTests
  - type: Command
    name: "zip the repo"
    command: |
      zip -r repo.zip ${OCI_WORKSPACE_DIR}/build
      ls
      cd notExist
    onFailure:
      - type: Command
        command: |
          echo "AN error here"
outputArtifacts:
  - name: built-gh-repo
    type: BINARY
    location: ${OCI_WORKSPACE_DIR}/build/repo.zip
